<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        table {
            width: 500px;
            border: 1px solid black;
        }

        td {
            border: 1px solid black;
        }

        .subMenu {
            background-color: aqua;
            position: absolute;
        }
    </style>

    <script src="js/jquery-3.7.1.js"></script>
    <script>

        function hideAll() {
            let subMenus = document.getElementsByClassName("subMenu")
            for (let sub of subMenus) { sub.style.display = "none" }
        }

        function showMenu(event) {
            let selected_menu = event.currentTarget.id // 클릭된 버튼의 id값
            hideAll() // 서브 메뉴 전부 가리기
            switch (selected_menu) {
                case "m1": // 서브1 표시
                    document.getElementById('s1').style.display = "table"
                    break
                case "m2": // 서브2 표시
                    document.getElementById('s2').style.display = "table"
                    break
                case "m3": // 서브3 표시
                    document.getElementById('s3').style.display = "table"
                    break
            }
        }

        window.onload = function () { // 문서가 로드되면
            // 서브 메뉴 테이블을 모두 감춤
            hideAll()
            // 메인 메뉴의 버튼들을 모두 찾음
            let BTNS = document.getElementsByClassName('mBTN')
            for (let btn of BTNS) { // 각각의 버튼에 이벤트 연결
                btn.addEventListener('click', showMenu)
                btn.addEventListener('mouseover', function (event) {
                    event.currentTarget.style.backgroundColor = 'yellow'
                })
                btn.addEventListener('mouseout', function (event) {
                    event.currentTarget.style.backgroundColor = ''
                })
            }

            let subMenus = document.getElementsByClassName("subMenu")
            for (let sub of subMenus) {
                sub.addEventListener('mouseleave', hideAll())
            }

        }

    </script>
</head>

<body>
    <table class="mainMenu">
        <tr>
            <td class="mBTN" id="m1">Main Menu 1</td>
            <td class="mBTN" id="m2">Main menu 2</td>
            <td class="mBTN" id="m3">Main menu 3</td>
        </tr>
    </table>
    <table class="subMenu" id="s1">
        <tr>
            <td>subMenu 1-1</td>
            <td>subMenu 1-2</td>
            <td>subMenu 1-3</td>
        </tr>
    </table>
    <table class="subMenu" id="s2">
        <tr>
            <td>subMenu 2-1</td>
            <td>subMenu 2-2</td>
            <td>subMenu 2-3</td>
        </tr>
    </table>
    <table class="subMenu" id="s3">
        <tr>
            <td>subMenu 3-1</td>
            <td>subMenu 3-2</td>
            <td>subMenu 3-3</td>
        </tr>
    </table>
    <table class="contents">
        <tr>
            <td>number</td>
            <td>title</td>
            <td>author</td>
        </tr>
        <tr>
            <td>1</td>
            <td>Java</td>
            <td>Gang</td>
        </tr>
        <tr>
            <td>2</td>
            <td>Python</td>
            <td>GAng</td>
        </tr>
        <tr>
            <td>1</td>
            <td>CSS</td>
            <td>GANg</td>
        </tr>
    </table>
</body>

</html>